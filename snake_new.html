<html>
<head>
    
</head>
<body style="background-color:blue">
<p style='margin-left: 22%;margin-top: 6%;'>  
<canvas id = "mycanvas" width = "700px" height ="500px" style = "border: 1px solid;color: blue;background-color: turquoise">
pls show the deatails
</canvas>
</p>
<script>
    var ele =  document.getElementById('mycanvas');
    if (ele && ele.getContext){
    var context = ele.getContext('2d');
    var k=0
    var x = 30;
    var y = 150;
    var width = 20;
    var height = 20;
    var array1 = [];
    var array2 = [];
    array1 [0] = 96;
    array2 [0] = 150;
    array1 [1] = 74;
    array2 [1] = 150;
    array1 [2] = 52;
    array2 [2] = 150;
    array1 [3] = 30;
    array2 [3] = 150;
    // array1 [4] = 10;
    // array2 [4] = 150;
    // array1 [5] = -10;
    // array2 [5] = 150;
    // array1 [6] = -30;
    // array2 [6] = 150;
    // flag_right = 0;
    if(context){
      //console.log(array[0]);
      //context.fillStyle = '#ffffff';
      //context.fillStroke = '#f00';
      context.fillRect(array1[0],array2[0],20,20);
      context.fillRect(array1[1],array2[1],20,20);
      context.fillRect(array1[2],array2[2],20,20);
      context.fillRect(array1[3],array2[3],20,20);
      // context.fillRect(array1[4],array2[4],20,20);
      // context.fillRect(array1[5],array2[5],20,20);
      // context.fillRect(array1[6],array2[6],20,20);
      }
    }
    var flag_upmovement = 0;
    var flag_downmovement = 0;
    var flag_leftmovement = 0;
    var flag_rightmovement = 0;
    document.onkeydown = keyMovements;     
    function keyMovements(e){   
      e = e || window.event;
      function food(){
        context.fillRect(food_x,food_y,width,height)
        return
      }
      if (e.keyCode == '37'){
        console.log('left arrow key is pressed');
        leftmove = setInterval(leftMovement,500);
        flag_leftmovement =1;
        if (flag_downmovement == 1){
           clearInterval(downmove);
           flag_downmovement =0;
        }
        if (flag_upmovement == 1){
           clearInterval(upmove);
           flag_upmovement = 0;
        }
        if (flag_rightmovement == 1){
          clearInterval(rightmove);
          flag_rightmovement = 0;
        }
      }
      else if (e.keyCode == '38'){
        upmove = setInterval(upMovement,500);
        flag_upmovement= 1;
        if (flag_rightmovement ==1){
          clearInterval(rightmove);
          flag_rightmovement = 0;
        }
        if (flag_leftmovement == 1){
          clearInterval(leftmove);
          flag_leftmovement = 0;
        }
        if (flag_downmovement == 1){
           clearInterval(downmove);
           flag_downmovement = 0;
        }
      }
      else if(e.keyCode == '39'){
        console.log('right arrow key is pressed');
        rightmove = setInterval(rightMovement,500);
        flag_rightmovement = 1;
        if (flag_downmovement == 1) {
           clearInterval(downmove);
           flag_downmovement = 0;
        }
        if (flag_upmovement == 1){
          clearInterval(upmove);
          flag_upmovement = 0;
        }
        if (flag_leftmovement == 1){
          clearInterval(leftmove);
          flag_leftmovement = 0;
        }
        
      }
      else if (e.keyCode == '40'){
        console.log('down arrow key is pressed');
        downmove = setInterval(downMovement,500);
        flag_downmovement = 1;
        if (flag_upmovement == 1){
          clearInterval(upmove);
        }
        if (flag_leftmovement == 1){
          clearInterval(leftmove);
          flag_leftmovement = 0;
        }
        if (flag_rightmovement == 1){
          clearInterval(rightmove);
          flag_rightmovement = 0;
        }
        
      }     
      
      function upMovement(){
            context.clearRect(array1[array1.length-1],array2[array2.length-1],20,20)    
            for(var i=array2.length-1;i>=0;i--){
              array2[i] = array2[i-1]
              array1[i] = array1[i-1]
            }
            array1[0] = array1[1]
            array2[0] = array2[1]-22;
            for(var i=0;i<array1.length;i++){
              context.fillRect(array1[i],array2[i],20,20)
            }
            if (y == -30){
              window.alert("game ends here")
            }
          return;
      }

     function downMovement(){
       context.clearRect(array1[array1.length-1],array2[array2.length-1],20,20)
       for(var i=array2.length-1;i>=0;i--){
              array2[i] = array2[i-1]
              array1[i] = array1[i-1]
       }
       array2[0] = array2[1]+22;
       array1[0] = array1[1];
       for(var i= 0; i<array1.length;i++){ 
             context.fillRect(array1[i],array2[i],20,20); 
       } 
       if (y==510){
         window.alert('the game ends here')
       }
       return;
     }
     function leftMovement(){
           context.clearRect(array1[array1.length-1],array2[array2.length-1],20,20)
           for(var i = array1.length-1;i>=0;i--){
           array1[i] = array1[i-1];
           array2[i] = array2[i-1];
           }
           array1[0]=array1[1]-22;
           array2[0] = array2[1];
           for(var i= 0; i<array1.length;i++){ 
             context.fillRect(array1[i],array2[i],20,20); 
          } 
       if(x==-30){
         window.alert('game ends here');
       }
       return;
     }  
     function rightMovement(){
           if(array1[0] == 510){
           window.alert('game ends')
           }
           // return;
           context.clearRect(array1[array1.length-1],array2[array2.length-1],20,20)
           for(var i = array1.length-1;i>=0;i--){
           array1[i] = array1[i-1];
           array2[i] = array2[i-1];
           }
           array1[0]=array1[1]+22;
           array2[0] = array2[1];
           for(var i= 0; i<array1.length;i++){ 
             context.fillRect(array1[i],array2[i],20,20); 
          } 
        } 
    }

</script>
</body>
</html>
